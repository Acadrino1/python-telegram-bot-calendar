# Example Environment Configuration for Lodge Scheduler
# Copy this file to .env and configure your values

# =====================================
# FEATURE TOGGLE CONFIGURATION
# =====================================

# Feature preset to apply on startup
# Options: minimal, basic, standard, enterprise, development
FEATURE_PRESET=minimal

# Debug feature toggle decisions (true/false)
DEBUG_FEATURES=false

# Individual feature overrides (optional)
# These override the preset configuration
# Uncomment and set to true/false to override specific features
#
# Core Features
# FEATURE_CORE_API_SERVER=false
# FEATURE_CORE_DATABASE=true
# FEATURE_CORE_AUTHENTICATION=false
#
# Admin Features  
# FEATURE_ADMIN_ADMIN_PANEL=false
# FEATURE_ADMIN_ADMIN_SECURITY=false
#
# Communication Features
# FEATURE_COMMUNICATIONS_EMAIL_NOTIFICATIONS=false
# FEATURE_COMMUNICATIONS_SMS_NOTIFICATIONS=false
# FEATURE_COMMUNICATIONS_REMINDER_SYSTEM=false
#
# Support Features
# FEATURE_SUPPORT_LIVE_CHAT=false
# FEATURE_SUPPORT_TICKET_SYSTEM=false
#
# Broadcasting Features
# FEATURE_BROADCASTING_BROADCAST_SYSTEM=false
# FEATURE_BROADCASTING_CAMPAIGN_MANAGEMENT=false
#
# Analytics Features
# FEATURE_ANALYTICS_BASIC_ANALYTICS=false
# FEATURE_ANALYTICS_ADVANCED_ANALYTICS=false
# FEATURE_ANALYTICS_DASHBOARD=false

# =====================================
# CORE APPLICATION SETTINGS
# =====================================

# Server Configuration
NODE_ENV=development
PORT=3000

# Database Configuration (REQUIRED for all presets)
# SQLite for development (default)
DATABASE_URL=sqlite:./database.sqlite

# MySQL/MariaDB for production (uncomment to use)
# DB_HOST=localhost
# DB_PORT=3306
# DB_USER=your_db_user
# DB_PASSWORD=your_secure_db_password
# DB_NAME=appointment_scheduler

# =====================================
# TELEGRAM BOT CONFIGURATION
# =====================================

# CRITICAL: Get your bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER

# Optional: Webhook configuration (leave empty for polling)
TELEGRAM_WEBHOOK_URL=
TELEGRAM_WEBHOOK_PORT=3001

# Admin user ID (your Telegram user ID)
ADMIN_TELEGRAM_ID=YOUR_TELEGRAM_USER_ID

# =====================================
# SECURITY CONFIGURATION
# =====================================

# JWT Configuration (required if authentication is enabled)
JWT_SECRET=9ae6c0f6df60b4690d4ab4864dedd0449e40a1a7ff579a6f967c8a3ff38dc025c699fe0d9ee12c62491e1b1a4a6abb809a7278487a76eb2d6404bae04966c42e
JWT_EXPIRES_IN=7d

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
API_REQUEST_SIZE_LIMIT=1mb

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =====================================
# OPTIONAL: EMAIL NOTIFICATIONS
# =====================================
# Only required if FEATURE_COMMUNICATIONS_EMAIL_NOTIFICATIONS=true

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password
EMAIL_FROM=noreply@appointmentscheduler.com

# =====================================
# OPTIONAL: SMS NOTIFICATIONS  
# =====================================
# Only required if FEATURE_COMMUNICATIONS_SMS_NOTIFICATIONS=true

TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =====================================
# OPTIONAL: ADMIN PANEL CONFIGURATION
# =====================================
# Only required if FEATURE_ADMIN_ADMIN_PANEL=true

# Admin user IDs (comma-separated Telegram user IDs)
ADMIN_USER_IDS=

# =====================================
# OPTIONAL: SUPPORT SYSTEM CONFIGURATION
# =====================================
# Only required if FEATURE_SUPPORT_LIVE_CHAT=true

SUPPORT_SYSTEM_ENABLED=false
SUPPORT_GROUP_ID=-1001234567890
SUPPORT_ANONYMIZE_DATA=true
SUPPORT_MAX_TICKETS=50
SUPPORT_TICKET_TIMEOUT=30
SUPPORT_AUTO_ESCALATE=60

# =====================================
# APPLICATION SETTINGS
# =====================================

# Application Info
APP_NAME=Lodge Scheduler
APP_URL=http://localhost:3000
TIMEZONE=America/New_York

# Booking Rules
MAX_ADVANCE_BOOKING_DAYS=90
MIN_ADVANCE_BOOKING_HOURS=2
CANCELLATION_ADVANCE_HOURS=24

# Notification Settings
SEND_EMAIL_NOTIFICATIONS=false
SEND_SMS_NOTIFICATIONS=false
REMINDER_HOURS_BEFORE=[24, 2]

# Data Retention
DATA_RETENTION_DAYS=7
AUTO_CLEANUP_ENABLED=true
EXPORT_BEFORE_DELETE=true
EXPORT_PATH=./exports

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# =====================================
# OPTIONAL: REDIS CONFIGURATION
# =====================================
# Uncomment if you have Redis available

# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# =====================================
# PRESET DESCRIPTIONS
# =====================================
#
# minimal: Telegram bot only - no web features
#   - Core: telegram_bot, database
#   - Security: basic validation, encryption
#   - Perfect for: Simple bot deployment
#
# basic: Bot + basic API server  
#   - Everything in minimal
#   - Core: api_server, authentication
#   - Scheduling: appointments, availability, waitlist
#   - Perfect for: Basic appointment system
#
# standard: Full scheduling system with notifications
#   - Everything in basic
#   - Communications: email, SMS, reminders
#   - Security: audit logging
#   - Perfect for: Production appointment system
#
# enterprise: Full featured system with admin panel
#   - Everything in standard
#   - Admin: admin panel, security, user management
#   - Support: live chat, tickets
#   - Broadcasting: campaigns, analytics
#   - Perfect for: Large-scale deployment
#
# development: All features enabled for development
#   - Every feature enabled
#   - Perfect for: Development and testing

# =====================================
# MONERO PAYMENT CONFIGURATION
# =====================================
# Set ENABLE_PAYMENTS=true to require payment for bookings

ENABLE_PAYMENTS=false
APPOINTMENT_PRICE_CAD=250
PAYMENT_WINDOW_MINUTES=30

# MoneroPay Configuration
MONEROPAY_URL=http://localhost:5000
MONEROPAY_WEBHOOK_URL=http://localhost:3000/api/payments/webhook

# Monero Daemon (public node for testing)
MONERO_DAEMON_HOST=node.moneroworld.com
MONERO_DAEMON_PORT=18089

# MoneroPay Database (for docker-compose.moneropay.yml)
MONEROPAY_DB_USER=moneropay
MONEROPAY_DB_PASSWORD=moneropay_secret
MONEROPAY_DB_NAME=moneropay
MONEROPAY_PORT=5000
MONEROPAY_ZERO_CONF=true